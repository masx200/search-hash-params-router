{"version":3,"file":"index.js","sources":["../src/createrouter/hashrouter/gethashparams.ts","../src/createrouter/hashrouter/gethashhref.ts","../src/createrouter/hashrouter/sethashparams.ts","../src/createrouter/hashrouter/transformhashparams.ts","../src/createrouter/searchrouter/getsearchparams.ts","../src/createrouter/searchrouter/getsearchhref.ts","../src/createrouter/searchrouter/setsearchparams.ts","../src/createrouter/searchrouter/transformsearchparams.ts","../src/createrouter/createbaserouter.ts","../src/createrouter/hashrouter/createhashrouter.ts","../src/createrouter/searchrouter/createsearchrouter.ts","../src/components/createclickhandler.tsx","../src/components/isModifiedEvent.tsx","../src/components/react/createReactParamsHook.tsx","../src/components/react/create-react-link.tsx","../src/createrouter/matchroute.ts","../src/components/isrouterecord.ts","../src/components/navigate.ts","../src/createrouter/isRecordRedirect.ts","../src/createrouter/isRecordRoute.ts","../src/components/react/create-react-view.tsx","../src/components/vue/createVueParamsHook.tsx","../src/components/vue/create-vue-link.tsx","../src/components/vue/create-vue-view.tsx"],"sourcesContent":["export function gethashparams() {\n    return (\n        (location.hash &&\n            Object.fromEntries(new URLSearchParams(location.hash.slice(1)))) ||\n        {}\n    );\n}\n","//@ts-ignore\nimport { gethashparams } from \"./gethashparams.ts\";\n\nexport function gethashhref(\n    to:\n        | Record<string, string>\n        | ((old: Record<string, string>) => Record<string, string>)\n): string {\n    if (!to) {\n        throw new TypeError(\"object,function\");\n    }\n    let params: {\n        [k: string]: string;\n    } = gethashparams();\n    let url = new URL(location.href);\n\n    if (\"function\" === typeof to) {\n        params = to(params);\n        url.hash = String(new URLSearchParams({ ...params }));\n        return url.href;\n    }\n    if (\"object\" === typeof to) {\n        params = to;\n        url.hash = String(new URLSearchParams({ ...params }));\n        return url.href;\n    }\n    throw new TypeError(\"object,function\");\n}\n","export function sethashparams(opt: Record<string, string>) {\n    const oldhash = location.hash;\n    let url = new URL(location.href);\n\n    url.hash = String(new URLSearchParams({ ...opt }));\n\n    if (oldhash === url.hash) {\n        return;\n    }\n    history.pushState({}, \"\", url.href);\n\n    window.dispatchEvent(new Event(\"hashchange\"));\n}\n","//@ts-ignore\nimport { gethashparams } from \"./gethashparams.ts\"; //@ts-ignore\nimport { sethashparams } from \"./sethashparams.ts\";\nexport function transformhashparams(\n    opt: (old: Record<string, string>) => Record<string, string>\n) {\n    sethashparams(opt(gethashparams()));\n}\n","export function getsearchparams() {\n    return (\n        (location.search &&\n            Object.fromEntries(new URL(location.href).searchParams)) ||\n        {}\n    );\n}\n","//@ts-ignore\nimport { getsearchparams } from \"./getsearchparams.ts\";\n\nexport function getsearchhref(\n    to:\n        | Record<string, string>\n        | ((old: Record<string, string>) => Record<string, string>)\n): string {\n    if (!to) {\n        throw new TypeError(\"object,function\");\n    }\n    let params: {\n        [k: string]: string;\n    } = getsearchparams();\n    let url = new URL(location.href);\n\n    if (\"function\" === typeof to) {\n        params = to(params);\n        url.search = String(new URLSearchParams({ ...params }));\n        return url.href;\n    }\n    if (\"object\" === typeof to) {\n        params = to;\n        url.search = String(new URLSearchParams({ ...params }));\n        return url.href;\n    }\n    throw new TypeError(\"object,function\");\n}\n","export function setsearchparams(opt: Record<string, string>) {\n    const oldsearch = location.search;\n    let url = new URL(location.href);\n\n    url.search = String(new URLSearchParams({ ...opt }));\n\n    if (oldsearch === url.search) {\n        return;\n    }\n    history.pushState({}, \"\", url.href);\n\n    window.dispatchEvent(new Event(\"popstate\"));\n}\n","//@ts-ignore\nimport { getsearchparams } from \"./getsearchparams.ts\"; //@ts-ignore\nimport { setsearchparams } from \"./setsearchparams.ts\";\nexport function transformsearchparams(\n    opt: (old: Record<string, string>) => Record<string, string>\n) {\n    setsearchparams(opt(getsearchparams()));\n}\n","//@ts-ignore\n\nimport EventEmitterTargetClass, {\n    EventEmitterTarget,\n} from \"@masx200/event-emitter-target\";\n//@ts-ignore\nimport debounce from \"lodash/debounce\";\n//@ts-ignore\nimport { gethashhref } from \"./hashrouter/gethashhref\";\n//@ts-ignore\nimport { gethashparams } from \"./hashrouter/gethashparams\";\n//@ts-ignore\nimport { sethashparams } from \"./hashrouter/sethashparams\";\n//@ts-ignore\nimport { transformhashparams } from \"./hashrouter/transformhashparams\";\nimport { RawRouter } from \"./Router\";\n//@ts-ignore\nimport { getsearchhref } from \"./searchrouter/getsearchhref\";\n//@ts-ignore\nimport { getsearchparams } from \"./searchrouter/getsearchparams\"; //\n//@ts-ignore\nimport { setsearchparams } from \"./searchrouter/setsearchparams\"; //@ts-ignore\nimport { transformsearchparams } from \"./searchrouter/transformsearchparams\";\nexport function createBaseRouter(\n    type: \"search\" | \"hash\"\n): EventEmitterTarget & RawRouter {\n    let mountcount = 0;\n    const eventname = \"search\" === type ? \"popstate\" : \"hashchange\";\n\n    const emitter: EventEmitterTarget = EventEmitterTargetClass();\n\n    const changelistener = debounce(() => {\n        const params = \"hash\" === type ? gethashparams() : getsearchparams();\n        instance.emit(\"params\", params);\n    });\n    function mount() {\n        window.addEventListener(eventname, changelistener);\n\n        changelistener();\n        mountcount++;\n    }\n    function unmount() {\n        mountcount--;\n        if (mountcount <= 0) {\n            window.removeEventListener(eventname, changelistener);\n            changelistener.cancel();\n            instance.removeAllListeners(\"params\");\n        }\n    }\n\n    const router: RawRouter = {\n        mount,\n        unmount,\n        paramshref: \"hash\" === type ? gethashhref : getsearchhref,\n\n        setparams: \"hash\" === type ? sethashparams : setsearchparams,\n        getparams: \"hash\" === type ? gethashparams : getsearchparams,\n        transformparams:\n            \"hash\" === type ? transformhashparams : transformsearchparams,\n        [Symbol.toStringTag]: \"search\" === type ? \"SearchRouter\" : \"HashRouter\",\n    };\n\n    const instance = { ...emitter, ...router } as EventEmitterTarget &\n        typeof router;\n\n    return instance as EventEmitterTarget & typeof router;\n}\n","//@ts-ignore\nimport { createBaseRouter } from \"../createbaserouter\";\nimport { Router } from \"../Router\";\nexport type { Router };\nexport function createHashRouter(): Router {\n    return createBaseRouter(\"hash\");\n}\n","//@ts-ignore\n\nimport { createBaseRouter } from \"../createbaserouter\";\nimport { Router } from \"../Router\";\nexport type { Router };\nexport function createSearchRouter(): Router {\n    return createBaseRouter(\"search\");\n}\n","import { MouseEvent } from \"react\";\nimport { Router } from \"../createrouter/Router\";\nimport { isModifiedEvent } from \"./isModifiedEvent\";\n\nexport function createclickhandler({\n    onClick,\n    target,\n    router,\n    to,\n}: {\n    onClick?: ((event: MouseEvent) => void) | undefined;\n    target?: string | undefined;\n    router: Router;\n    to: Record<string, string>;\n}) {\n    return (event?: MouseEvent) => {\n        if (!event) {\n            router.setparams(to);\n            return;\n        }\n        try {\n            if (\"function\" === typeof onClick) {\n                onClick(event);\n            }\n        } catch (ex) {\n            event.preventDefault();\n            throw ex;\n        }\n        if (\n            !event.defaultPrevented &&\n            // onClick prevented default\n            event.button === 0 &&\n            // ignore everything but left clicks\n            (!target || target === \"_self\") &&\n            // let browser handle \"target=_blank\" etc.\n            !isModifiedEvent(event)\n            // ignore clicks with modifier keys\n        ) {\n            event.preventDefault();\n            router.setparams(to);\n        }\n    };\n}\n","export function isModifiedEvent(\n    event: MouseEvent | import(\"react\").MouseEvent\n) {\n    return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\n","import debounce from \"lodash/debounce\";\nimport { Router } from \"../../createrouter/Router\";\nimport { useState as useStateType, useEffect as useEffectType } from \"react\";\n\nexport function createReactParamsHook({\n    router,\n    useState,\n    useEffect,\n}: {\n    router: Router;\n    useState: typeof useStateType;\n    useEffect: typeof useEffectType;\n}): () => Readonly<Record<string, string>> {\n    return function ():Readonly<Record<string, string>> {\n        const [params, setparams] = useState<Record<string, string>>(\n            router.getparams()\n        );\n        useEffect(() => {\n            const paramschange = debounce((p) => {\n                setparams(p);\n            });\n            function onmount() {\n                router.mount();\n                router.on(\"params\", paramschange);\n            }\n\n            function onunmount() {\n                router.unmount();\n\n                router.off(\"params\", paramschange);\n                paramschange.cancel();\n            }\n            onmount();\n\n            return onunmount;\n        }, []);\n        return params as Readonly<Record<string, string>>;\n    };\n}\n","import isEqual from \"lodash/isEqual\";\nimport type {\n    ComponentType,\n    createElement as createElementType,\n    FC,\n    MouseEvent,\n    PropsWithChildren,\n    useEffect as useEffectType,\n    useState as useStateType,\n} from \"react\";\nimport { Router } from \"../../createrouter/Router\";\nimport { createclickhandler } from \"../createclickhandler\";\nimport { createReactParamsHook } from \"./createReactParamsHook\";\nexport type CustomReactLinkProps = Record<string, any> & {\n    innerRef?: { current: any } | ((current: any) => void);\n    target?: string;\n    href: string;\n    isActive: boolean;\n    navigate: (event?: MouseEvent) => void;\n};\nexport type DefaultReactLinkProps = Record<string, any> & {\n    component?: ComponentType<CustomReactLinkProps>;\n    target?: string;\n    onClick?: (event: MouseEvent) => void;\n    to: Record<string, string>;\n    innerRef?:\n        | {\n              current: any;\n          }\n        | ((current: any) => void);\n};\n\nexport function createReactLink({\n    router,\n    useState,\n    useEffect,\n    createElement,\n}: {\n    router: Router;\n    useState: typeof useStateType;\n    useEffect: typeof useEffectType;\n    createElement: typeof createElementType;\n}): FC<DefaultReactLinkProps> {\n    const useParams = createReactParamsHook({\n        router,\n        useState,\n        useEffect,\n    });\n    return function ({\n        component = linkcomponentdefault,\n        target,\n        to,\n        onClick,\n        innerRef,\n        children,\n        ...rest\n    }) {\n        const params = useParams();\n        if (!to || !(\"object\" === typeof to)) {\n            throw new TypeError(\"object\");\n        }\n        const href: string = router.paramshref(to);\n\n        const isActive = isEqual(params, to);\n        const navigate = createclickhandler({\n            onClick,\n            target,\n            router,\n            to,\n        });\n        return createElement(\n            component,\n            { innerRef, target, href, isActive, navigate, ...rest },\n            children\n        );\n    };\n    function linkcomponentdefault({\n        innerRef,\n        target,\n        children,\n        href,\n        isActive,\n        navigate,\n        ...rest\n    }: PropsWithChildren<CustomReactLinkProps>) {\n        return createElement(\n            \"a\",\n            {\n                ref: innerRef,\n                target,\n                href,\n                onClick: navigate,\n                \"aria-current\": isActive ? \"page\" : \"false\",\n                ...rest,\n            },\n            children\n        );\n    }\n}\n","import { RouteRecord } from \"./RouteRecord\";\n\nexport function matchRoute(\n    routes: RouteRecord[],\n    params: Record<string, string>\n) {\n    for (let route of routes) {\n        if (route.params(params)) {\n            return route;\n        }\n    }\n    return undefined;\n}\n","function isrouterecord(o: any): boolean {\n    return !!(o && \"object\" === typeof o && \"function\" === typeof o.params);\n}\nexport { isrouterecord };\n","import { Router } from \"../createrouter/Router\";\n\nexport function navigate(\n    router: Router,\n    to:\n        | Record<string, string>\n        | ((old: Record<string, string>) => Record<string, string>)\n) {\n    if (!to) {\n        throw new TypeError(\"object,function\");\n    }\n    if (\"function\" === typeof to) {\n        router.transformparams(to);\n        return;\n    }\n    if (\"object\" === typeof to) {\n        router.setparams(to);\n        return;\n    }\n    throw new TypeError(\"object,function\");\n}\n","import { RecordRedirect } from \"./RouteRecord\";\n\nexport function isRecordRedirect(o: any): o is RecordRedirect {\n    return !!(\"function\" === typeof o?.params && o?.redirect);\n}\n","import { RecordRoute } from \"./RouteRecord\";\n\nexport function isRecordRoute(o: any): o is RecordRoute {\n    return !!(\"function\" === typeof o?.params && o?.component);\n}\n","import { matchRoute } from \"../../createrouter/matchroute\";\nimport { Router } from \"../../createrouter/Router\";\nimport { isrouterecord } from \"../isrouterecord\";\nimport { navigate } from \"../navigate\";\nimport type {\n    FC,\n    createElement as createElementType,\n    useState as useStateType,\n    useEffect as useEffectType,\n    ComponentType,\n    PropsWithChildren,\n} from \"react\";\nimport { RouteRecord } from \"../../createrouter\";\nimport { isRecordRedirect } from \"../../createrouter/isRecordRedirect\";\nimport { isRecordRoute } from \"../../createrouter/isRecordRoute\";\nimport { createReactParamsHook } from \"./createReactParamsHook\";\nexport { createReactView, createReactParamsHook };\nexport type CustomReactViewProps = {\n    component: ComponentType<any>;\n    params: Record<string, string>;\n};\n\nexport type DefaultReactViewProps = {\n    routes: RouteRecord[];\n    render?: ComponentType<CustomReactViewProps>;\n};\n\nfunction createReactView({\n    router,\n\n    createElement,\n    useState,\n    useEffect,\n}: {\n    router: Router;\n\n    createElement: typeof createElementType;\n    useState: typeof useStateType;\n    useEffect: typeof useEffectType;\n}): FC<DefaultReactViewProps> {\n    const useParams = createReactParamsHook({\n        router,\n        useState,\n        useEffect,\n    });\n    function viewrenderdefault({\n        component,\n        params,\n    }: PropsWithChildren<CustomReactViewProps>) {\n        //@ts-ignore\n        return createElement(component, { params });\n    }\n    return ({ routes, render = viewrenderdefault }) => {\n        if (!Array.isArray(routes)) {\n            throw new TypeError(\"array\");\n        }\n        if (\n            !routes.every((o) => {\n                return isrouterecord(o);\n            })\n        ) {\n            throw new TypeError('{params:\"function\"}');\n        }\n\n        const params = useParams();\n        const currentroute = matchRoute(routes, params);\n        if (isRecordRedirect(currentroute)) {\n            const redirect = currentroute.redirect;\n\n            navigate(router, redirect);\n\n            return null;\n        }\n        if (isRecordRoute(currentroute)) {\n            const Component = currentroute.component as ComponentType<any>;\n\n            const props = { component: Component };\n            let oprops = Object.assign({}, props, { params });\n            //@ts-ignore\n            return createElement(render, { ...oprops });\n        } else {\n            return null;\n        }\n    };\n}\n","import { ref as refType } from \"@vue/runtime-dom\";\nimport debounce from \"lodash/debounce\";\nimport { Router } from \"../../createrouter/Router\";\n\nexport function createVueParamsHook({\n    router,\n    ref,\n    onMounted,\n    onUnmounted,\n    readonly,\n}: {\n    readonly: typeof import(\"@vue/runtime-dom\").readonly;\n    onMounted: typeof import(\"@vue/runtime-dom\").onMounted;\n    router: Router;\n    ref: typeof refType;\n    onUnmounted: typeof import(\"@vue/runtime-dom\").onUnmounted;\n}): () => {\n    readonly value: {\n        readonly [x: string]: string;\n    };\n} {\n    return function () {\n        const params = ref(router.getparams());\n        const paramschange = debounce((p) => {\n            params.value = p;\n        });\n        function onmount() {\n            router.mount();\n            router.on(\"params\", paramschange);\n        }\n\n        function onunmount() {\n            router.unmount();\n\n            router.off(\"params\", paramschange);\n            paramschange.cancel();\n        }\n        onMounted(onmount);\n        onUnmounted(onunmount);\n        return readonly(params);\n    };\n}\n","import type {\n    Component,\n    defineComponent as defineComponentType,\n    h as hType,\n    ref as refType,\n    resolveComponent as resolveComponentType,\n    SetupContext,\n} from \"@vue/runtime-dom\";\nimport isEqual from \"lodash/isEqual\";\nimport { Router } from \"../../createrouter/Router\";\nimport { createclickhandler } from \"../createclickhandler\";\nimport { createVueParamsHook } from \"./createVueParamsHook\";\nexport { createVueLink };\n\nexport type CustomVueLinkProps = Record<string, any> & {\n    innerRef?: { value: any } | ((value: any) => void);\n    target?: string;\n    href: string;\n    isActive: boolean;\n    navigate: (event?: MouseEvent) => void;\n};\nexport type DefaultVueLinkProps = Record<string, any> & {\n    component?: \"string\" | Component<CustomVueLinkProps>;\n    to: Record<string, string>;\n    onClick?: (event: MouseEvent) => void;\n    target?: string;\n    innerRef?:\n        | ((r: any) => void)\n        | {\n              value: any;\n          };\n};\n\nfunction createVueLink({\n    router,\n    resolveComponent,\n    defineComponent,\n    h: createElement,\n    ref,\n    onMounted,\n    onUnmounted,\n    readonly,\n}: {\n    ref: typeof refType;\n    readonly: typeof import(\"@vue/runtime-dom\").readonly;\n    onMounted: typeof import(\"@vue/runtime-dom\").onMounted;\n    onUnmounted: typeof import(\"@vue/runtime-dom\").onUnmounted;\n    resolveComponent: typeof resolveComponentType;\n    router: Router;\n    defineComponent: typeof defineComponentType;\n    h: typeof hType;\n}): Component<DefaultVueLinkProps> {\n    const useParams = createVueParamsHook({\n        router,\n        ref,\n        onMounted,\n        onUnmounted,\n        readonly,\n    });\n\n    function linkcomponentdefault(\n        { innerRef, target, href, navigate, isActive }: CustomVueLinkProps,\n        { slots: children }: SetupContext\n    ) {\n        return createElement(\n            //@ts-ignore\n            \"a\",\n            {\n                ref: innerRef,\n                target,\n                href,\n                onClick: navigate,\n                \"aria-current\": isActive ? \"page\" : \"false\",\n            },\n            children\n        );\n    }\n\n    linkcomponentdefault.inheritAttrs = true;\n\n    linkcomponentdefault.props = [\n        \"innerRef\",\n        \"target\",\n        \"href\",\n        \"isActive\",\n        \"navigate\",\n    ];\n\n    //@ts-ignore\n    const Link: Component<DefaultVueLinkProps> = defineComponent({\n        inheritAttrs: true,\n        props: [\"component\", \"to\", \"target\", \"onClick\", \"innerRef\"],\n        setup(props: DefaultVueLinkProps, { slots: children }) {\n            const params = useParams();\n            return () => {\n                const {\n                    component = linkcomponentdefault,\n                    to,\n                    onClick,\n                    target,\n                    innerRef: innerRef,\n                } = props;\n\n                if (!to || !(\"object\" === typeof to)) {\n                    throw new TypeError(\"object\");\n                }\n                const href: string = router.paramshref(to);\n                const navigate = createclickhandler({\n                    //@ts-ignore\n                    onClick,\n                    //@ts-ignore\n                    target,\n                    router,\n                    //@ts-ignore\n                    to,\n                });\n                const isActive = isEqual(params.value, to);\n                const reffun =\n                    \"function\" === typeof innerRef\n                        ? innerRef\n                        : innerRef && \"object\" === typeof innerRef\n                        ? (e: any) => {\n                              Reflect.set(innerRef, \"value\", e);\n                          }\n                        : undefined;\n\n                const Resolvedcomponent =\n                    \"string\" === typeof component\n                        ? resolveComponent(component)\n                        : component;\n\n                return createElement(\n                    //@ts-ignore\n                    Resolvedcomponent,\n                    { isActive, innerRef: reffun, href, navigate, target },\n                    children\n                );\n            };\n        },\n    }) as Component<DefaultVueLinkProps>;\n    return Link;\n}\n","import type {\n    Component,\n    defineComponent as defineComponentType,\n    h as hType,\n    ref as refType,\n    resolveComponent as resolveComponentType,\n} from \"@vue/runtime-dom\";\nimport { isRecordRedirect } from \"../../createrouter/isRecordRedirect\";\nimport { isRecordRoute } from \"../../createrouter/isRecordRoute\";\nimport { matchRoute } from \"../../createrouter/matchroute\";\nimport { Router } from \"../../createrouter/Router\";\nimport { RouteRecord } from \"../../createrouter/RouteRecord\";\nimport { isrouterecord } from \"../isrouterecord\";\nimport { navigate } from \"../navigate\";\nimport { createVueParamsHook } from \"./createVueParamsHook\";\nexport { createVueView, createVueParamsHook };\nexport type CustomVueViewProps = {\n    component: Component<any>;\n    params: Record<string, string>;\n};\n\nexport type DefaultVueViewProps = {\n    routes: RouteRecord[];\n    render?: string | Component<CustomVueViewProps>;\n};\n\nfunction createVueView({\n    readonly,\n    onMounted,\n    onUnmounted,\n    router,\n    resolveComponent,\n    defineComponent,\n    h: createElement,\n    ref,\n}: {\n    readonly: typeof import(\"@vue/runtime-dom\").readonly;\n    onMounted: typeof import(\"@vue/runtime-dom\").onMounted;\n    onUnmounted: typeof import(\"@vue/runtime-dom\").onUnmounted;\n    resolveComponent: typeof resolveComponentType;\n    router: Router;\n    defineComponent: typeof defineComponentType;\n    h: typeof hType;\n    ref: typeof refType;\n}): Component<DefaultVueViewProps> {\n    const useParams = createVueParamsHook({\n        router,\n        ref,\n        onMounted,\n        onUnmounted,\n        readonly,\n    });\n    function viewrenderdefault({ component, params }: CustomVueViewProps) {\n        //@ts-ignore\n        return createElement(component, { params });\n    }\n    viewrenderdefault.props = [\"params\", \"component\"];\n    viewrenderdefault.inheritAttrs = false;\n    return defineComponent({\n        props: [\"routes\", \"render\"],\n        inheritAttrs: false,\n        setup(props: DefaultVueViewProps) {\n            //attrs不是响应式对象\n\n            const params = useParams();\n            return () => {\n                const { routes, render = viewrenderdefault } = props;\n                //attrs可能属性有变化\n                if (!Array.isArray(routes)) {\n                    throw new TypeError(\"array\");\n                }\n                if (\n                    !routes.every((o) => {\n                        return isrouterecord(o);\n                    })\n                ) {\n                    throw new TypeError('{params:\"function\"}');\n                }\n\n                const currentroute = matchRoute(routes, params.value);\n                if (isRecordRedirect(currentroute)) {\n                    const redirect = currentroute.redirect;\n\n                    navigate(router, redirect);\n\n                    return null;\n                }\n                if (isRecordRoute(currentroute)) {\n                    const Component = currentroute.component as Component<any>;\n                    let Resolvedcomponent =\n                        \"string\" === typeof Component\n                            ? resolveComponent(Component)\n                            : Component;\n                    let props = { component: Resolvedcomponent };\n                    let oprops = Object.assign({}, props, {\n                        params: params.value,\n                    });\n\n                    let rendercomponent =\n                        \"string\" === typeof render\n                            ? resolveComponent(render)\n                            : render;\n\n                    return createElement(\n                        //@ts-ignore\n                        rendercomponent,\n                        { ...oprops }\n\n                        // )\n                    );\n                } else {\n                    return null;\n                }\n            };\n        },\n    });\n}\n"],"names":["gethashparams","location","hash","Object","fromEntries","URLSearchParams","slice","gethashhref","to","TypeError","params","url","URL","href","String","sethashparams","opt","oldhash","history","pushState","window","dispatchEvent","Event","transformhashparams","getsearchparams","search","searchParams","getsearchhref","setsearchparams","oldsearch","transformsearchparams","createBaseRouter","type","mountcount","eventname","emitter","EventEmitterTargetClass","changelistener","debounce","instance","emit","router","mount","addEventListener","unmount","removeEventListener","cancel","removeAllListeners","paramshref","setparams","getparams","transformparams","Symbol","toStringTag","createHashRouter","createSearchRouter","createclickhandler","onClick","target","event","ex","preventDefault","defaultPrevented","button","metaKey","altKey","ctrlKey","shiftKey","isModifiedEvent","createReactParamsHook","useState","useEffect","paramschange","p","on","off","createReactLink","createElement","useParams","component","linkcomponentdefault","innerRef","children","rest","isActive","isEqual","navigate","ref","matchRoute","routes","route","isrouterecord","o","isRecordRedirect","redirect","isRecordRoute","createReactView","viewrenderdefault","render","Array","isArray","every","currentroute","props","oprops","assign","createVueParamsHook","onMounted","onUnmounted","readonly","value","createVueLink","resolveComponent","defineComponent","h","slots","inheritAttrs","setup","reffun","e","Reflect","set","undefined","Resolvedcomponent","createVueView","Component","rendercomponent"],"mappings":"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"}